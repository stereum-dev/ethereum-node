---
- name: Verify
  hosts: all
  gather_facts: false
  tasks:
    - name: Check if Node.js is installed
      command: node -v
      register: node_version
      changed_when: false

    - name: Assert Node.js is installed
      assert:
        that: node_version.rc == 0
        fail_msg: Node.js is not installed

    - name: Check if ws-server.js exists
      stat:
        path: /path/to/ws-server.js
      register: ws_server

    - name: Assert ws-server.js exists
      assert:
        that: ws_server.stat.exists
        fail_msg: ws-server.js does not exist
