---
- name: Ensure consensus and execution directories exist
  ansible.builtin.file:
    path: "{{ working_dir }}/{{ item }}"
    state: directory
    mode: "0777"
  loop:
    - "{{ devnet_services.CL }}"
    - "{{ devnet_services.EL }}"

- name: Copy config.yml and genesis.json to respective directories
  ansible.builtin.copy:
    src: "{{ item.src }}"
    dest: "{{ working_dir }}/{{ item.dest }}"
    mode: "0777"
  loop:
    - {
        src: "{{ role_path }}/files/config.yml",
        dest: "{{ devnet_services.CL }}/config.yml",
      }
    - {
        src: "{{ role_path }}/files/genesis.json",
        dest: "{{ devnet_services.EL }}/genesis.json",
      }
  tags: copy_files
# EOF
