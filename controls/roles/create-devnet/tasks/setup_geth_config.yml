---
- name: Set up genesis configuration for geth
  command: >
    docker run \
    --name geth-genesis \
    -v {{ working_dir }}/execution:/execution \
    ethereum/client-go:latest \
    --datadir=execution init execution/genesis.json
- name: Wait for 5 seconds
  pause:
    seconds: 5
- name: Generate empty Geth password file
  file:
    path: "{{working_dir}}/execution/geth_password.txt"
    state: touch
- name: Import private key into geth
  command: >
    docker run \
    --name geth-sk \
    -v {{ working_dir }}/execution:/execution \
    ethereum/client-go:latest \
     account import --datadir=execution --password execution/geth_password.txt execution/sk.json
- name: Wait for 5 seconds
  pause:
    seconds: 5
