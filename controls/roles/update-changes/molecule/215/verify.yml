---
- name: Verify
  hosts: all
  gather_facts: false
  tasks:
    # ValidatorEjectorService
    - name: Read ValidatorEjectorService file
      slurp:
        src: "/etc/stereum/services/f12b9300-d46c-c9cc-99a6-e437aa71ef5b.yaml"
      register: Ejector_service_configuration_raw

    - name: Parse Service configurations
      set_fact:
        Ejector_service_configuration: "{{ Ejector_service_configuration_raw['content'] | b64decode | from_yaml }}"

    - debug:
        msg: "{{ Ejector_service_configuration }}"

    - assert:
        that:
          - Ejector_service_configuration.env.ORACLE_ADDRESSES_ALLOWLIST.length == 10
# EOF
